<% view_mode = local_assigns.fetch(:view_mode, nil) %>
<!-- grid or list view-->
<% gl = local_assigns.fetch(:gl, nil) %>

<% if view_mode == :showroom %>
  <% photo = entity.default_variant.default_image.photo(:medium) rescue nil %>
  <!-- LIST VIEW START -->
  <% if gl == "list" %> 
    <div class="product-list product">
      <div class="row product-list-row">
        <div class="col col-sm-4 col-lg-4">
          <div class="product-image">
            <div class="image">
              <% if photo.present? %>
                <a href="<%= product_path(entity)%>"><img  src="/assets/blank.gif" data-echo="<%= photo %>" alt="<%= entity.name %>"></a>
              <% else %>
                <a href="<%= product_path(entity)%>"><img  src="http://placehold.it/240x240" data-echo="http://placehold.it/240x240" alt="<%= entity.name %>"></a>
              <% end %>
            </div>
          </div>
        </div>
        <div class="col col-sm-8 col-lg-8 list-main">
          <div class="product-info">
            <h3 class="name"><a href="<%= product_path(entity)%> "><%= entity.name %></a></h3>
            <div class="rating rateit-small"></div>
            <div class="product-price"> 
              <span class="price"><%= number_to_currency(entity.price, locale: :en) %></span>
            </div>         
          </div> 
          <div class="cart clearfix animate-effect">
            <div class="action">
              <ul class="list-unstyled">
                <li class="add-cart-button btn-group">
                  <button class="btn btn-primary icon" data-toggle="dropdown" type="button">
                    <i class="fa fa-shopping-cart"></i>
                  </button>
                  <button class="btn btn-greylime" type="button">Add to cart</button>
                </li>
                <li class="lnk wishlist">
                  <a class="add-to-cart" href="detail.html" title="Wishlist">
                     <i class="icon fa fa-heart"></i>
                  </a>
                </li>
                <li class="lnk item-condition">
                  <%= entity.condition %>
                </li>
              </ul>
            </div>
          </div> 
        </div>
      </div>
    </div>

  <!-- GRID VIEW START -->
  <% elsif gl == "grid" %>
    <div class="product col-lg-4 col-md-6 col-xs-12">
      <div class="top">
        <div class="product-image">
          <div class="image">
            <% if photo.present? %>
              <a href="<%= product_path(entity)%>"><img  src="/assets/blank.gif" data-echo="<%= photo %>" alt="<%= entity.name %>"></a>
            <% else %>
              <a href="<%= product_path(entity)%>"><img  src="http://placehold.it/240x240" data-echo="http://placehold.it/240x240" alt="<%= entity.name %>"></a>
            <% end %>
          </div> 
        </div> 
        <div class="product-info text-left">
          <h3 class="name"><a href="<%= product_path(entity)%>"><%= entity.name %></a></h3>
          <!-- <%= entity.condition %> -->
          <div class="product-price"> 
            <span class="price"><%= number_to_currency(entity.price, locale: :en) %></span>        
          </div>
        </div>
      </div>
      <div class="cart clearfix animate-effect">
        <div class="action">
          <ul class="list-unstyled">
            <li class="add-cart-button btn-group">
              <button class="btn btn-primary icon" data-toggle="dropdown" type="button">
                <i class="fa fa-shopping-cart"></i>     
              </button>
              <button class="btn btn-lime" type="button">Add to cart</button>              
            </li>           
            <li class="lnk wishlist">
              <a class="add-to-cart" href="detail.html" title="Wishlist"><i class="icon fa fa-heart"></i>
              </a>
            </li>
          </ul>
        </div><!-- /.action -->
      </div><!-- /.cart -->
    </div><!-- /.product -->
  <% end %>
<% end %>